<!-- content -->
<div id="content">
	<div id="editor" ui-codemirror="{ onLoad : codemirrorLoaded}" ui-codemirror-opts="editorOptions"></div>
	<userCursor ng-repeat="user in users | notme:this track by $index" 
		x="user.x" y="user.y" ng-style="{ backgroundColor: user.color }" />
</div>
<!-- END content -->

<!-- side -->
<div id="side">

	<!-- tabs -->
	<div id="side-tabs-container">

		<div id="fileFilter">
			<i class="fa fa-search"></i>
			<input ng-model="query" type="text" class="form-control">
		</div>
		
		<ul id="side-tabs">
			<li class="tabs" ng-repeat="file in files | filter:query track by $index">
				<i class="fa fa-file-o"></i> <span ng-bind-html="to_trusted(file)"></span>
			</li>
		</ul>
	</div>
	<!-- END tabs -->
	<!-- chat -->
	<div id="chat-container">

		<div class="user-icon">
			<i class="fa fa-user fa-lg"></i>
			<span class="label label-success">{{Who()}}</span>
		</div>

		<ul id="side-chat-messages">
			<li ng-repeat="comment in comments track by $index" class="message" ng-class="comment.type" 
			ng-switch on="comment.category" ng-style="comment.color">

				<div ng-switch-default>
					<span class="userBlock" ng-style="{ backgroundColor: comment.color}" ></span>
					<span ng-bind-html="to_trusted(comment.text)">?</span>
				</div>

			</li>
		</ul>
		<input id="side-chat-input" class="form-control"/>
	</div>
	<!-- END chat -->

</div>
<!-- END side -->

<!-- Modal -->
<script type="text/ng-template" id="modal.html">
	<div class="modal-header">
	    <h3>Welcome to CodeSemble</h3>
	</div>
	<div class="modal-body">
		<div class="row">
			<div class="col-md-8 col-md-offset-2">
				<div class="input-group">
					<input ng-model="username" placeholder="Enter your name" type="text" class="form-control">
					<span class="input-group-btn">
						<button class="btn btn-default" ng-click="ok(username)" type="button">Ok</button>
					</span>
				</div>
			</div>
		</div>
	</div>
</script>